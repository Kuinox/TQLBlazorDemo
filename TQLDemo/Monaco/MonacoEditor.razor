@using Microsoft.AspNetCore.Components
@using Microsoft.JSInterop
@using Monaco

@namespace Monaco
<div id="@Model.Id" style="width:200px; height:200px">tototata</div>

@code {

    [Inject]
    IJSRuntime runtime { get; set; }

    [Parameter]
    public EditorModel Model { get; set; }


    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            if (!await BlazacoJSInterop.InitializeEditor(runtime, Model)) throw new InvalidOperationException();
        }
    }

    public async Task<string> GetValue()
    {
        return await BlazacoJSInterop.GetValue(runtime, Model.Id);
    }

    public async Task<bool> SetValue(string newValue)
    {
        return await BlazacoJSInterop.SetValue(runtime, Model.Id, newValue);
    }

    public async Task<bool> SetTheme(string newTheme)
    {
        return await BlazacoJSInterop.SetTheme(runtime, Model.Id, newTheme);
    }
}


